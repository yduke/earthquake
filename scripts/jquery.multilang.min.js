(function(e,t,n,i){function s(e,t){e.find(".multilang").hide();e.find('[lang="'+t+'"]').show()}function o(t,n,r,i){var o=[];t.find(".multilang").each(function(){thisLang=e(this).attr("lang");if(o.indexOf(thisLang)<0&&thisLang!="-"){o.push(thisLang)}});var a=u("lang");var f='<ul id="multilangMenu">';for(lang in o){var l=o[lang];txt=e.isEmptyObject(n)?l:n[l].nativeName;display=r!=""?'<img src="'+r+"/"+l+"."+i+'" alt="'+txt+'">':txt;f+='<li><a href="'+a+(a.indexOf("?")>=0?"&":"?")+"lang="+l+'" lang="'+l+'" title="'+txt+'">'+display+"</a></li>"}f+="</ul>";t.prepend(f);t.on("click","#multilangMenu [lang]",function(){s(t,e(this).attr("lang"));return false})}function u(e){return location.search.replace(RegExp("\\&"+e+"=[^&]+"),"").replace(RegExp("\\?"+e+"=[^&]+"),"")}function a(e){r=RegExp("[\\?&]"+e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]")+"=([^&#]*)").exec(location.search);return r==null?"":decodeURIComponent(r[1].replace(/\+/g," "))}e.fn.multilang=function(t){var n=e.extend({defaultLang:"browser",menu:true,pathToPix:"",pixFormat:"png",languages:{}},t);var r=n.defaultLang;if(r=="browser"){r=(navigator.userLanguage||navigator.language).substring(0,2)}r=a("lang")||r;return this.each(function(){s(e(this),r);if(n.menu){langs=e.isEmptyObject(n.languages)?typeof jsonLangs==="undefined"?{}:jsonLangs:n.languages;o(e(this),langs,n.pathToPix,n.pixFormat)}})}})(jQuery)